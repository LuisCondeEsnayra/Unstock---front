"use strict";(self.webpackChunkunstock_front=self.webpackChunkunstock_front||[]).push([[939],{6739:(e,s,t)=>{t.d(s,{A:()=>a});t(5043);var l=t(579);const a=e=>{let{text:s}=e;return(0,l.jsx)("h1",{className:"text-center mb-3",children:s})}},939:(e,s,t)=>{t.r(s),t.d(s,{default:()=>B});var l=t(5043),a=t(2192),n=t(861),i=t(4101),c=t(4709),r=t(5104),d=t(6105),o=t(4227),h=t(579);const m=e=>{const{name:s,image:t,sell:l,type:a,ingredients:n,recipe:c}=e.recipe;return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(r.V,{children:(0,h.jsx)("h5",{className:"text-center",children:s})}),(0,h.jsx)(d.W,{children:(0,h.jsxs)(i.s,{className:"justify-content-center",children:[(0,h.jsx)(o.U,{xs:"auto",className:"text-center",children:(0,h.jsx)("img",{style:{maxHeight:"40vh",maxWidth:"300px"},src:t,alt:s})}),(0,h.jsxs)(o.U,{children:[(0,h.jsxs)(i.s,{children:[(0,h.jsx)("h5",{children:"Descripci\xf3n"}),(0,h.jsxs)("p",{children:["Cantidad de venta: ",l," ",a]}),(0,h.jsxs)("p",{children:["Rendimiento de receta: ",l," ",a]})]}),(0,h.jsx)(i.s,{children:(0,h.jsxs)(o.U,{children:[(0,h.jsx)("h5",{children:"Ingredientes"}),(0,h.jsx)("ul",{className:"mx-5",children:n.map(((e,s)=>(0,h.jsxs)("li",{children:[e.quantity," ",e.measure," de"," ",e.ingredient]},s)))})]})}),(0,h.jsxs)(i.s,{children:[(0,h.jsx)("h5",{children:"Receta"}),(0,h.jsx)("p",{children:c})]})]})]})})]})},x="recipeCard_recipeImage__UlvYo",u=e=>{const{name:s,image:t}=e.recipe;return(0,h.jsxs)("div",{onClick:e.handleShowMore,children:[(0,h.jsx)("h5",{children:s}),(0,h.jsx)("img",{src:t,alt:s,className:`${x}  `})]})},j="RecipesGrid_cardHeight__zIZxe",p=e=>(0,h.jsx)(i.s,{className:`${j} overflow-auto `,children:e.filteredData.map(((s,t)=>(0,h.jsx)(o.U,{xs:"12",sm:"6",md:"3",className:"  mb-4 text-center",children:(0,h.jsx)("div",{className:"w-100 ps-2",children:(0,h.jsx)(u,{recipe:s,handleShowMore:()=>e.handleShowMore(t)})})},t)))});var g=t(4398),v=t(2382),y=t(6323),C=t(3526),b=t(5968),N=t(5823),S=t(825),f=t(4231),k=t(6152),R=t(2261),A=t(2686),w=t(2);const I=e=>{let{setType:s}=e;const[t,a]=(0,l.useState)("");return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(i.s,{children:(0,h.jsx)(N.A,{htmlFor:"cantidad",children:"Cantidad:"})}),(0,h.jsx)(i.s,{children:(0,h.jsxs)(k.j,{id:"cantidad",children:[(0,h.jsx)(R.V,{color:"secondary",children:t.length>0?t:"Medida"}),(0,h.jsx)(A.Q,{children:[{value:"gr",label:"Gramos"},{value:"ml",label:"Mililitros"},{value:"piezas",label:"Piezas"}].map(((e,t)=>(0,h.jsx)(w.k,{onClick:()=>{return a((t=e).label),void s(t.value);var t},children:e.label},t)))})]})})]})},F=e=>{let{checkCompletion:s,setProductData:t,productData:a}=e;const[n,c]=(0,l.useState)(a.productName||""),[r,d]=(0,l.useState)(a.cost||""),[m,x]=(0,l.useState)(a.sellQuantity||""),[u,j]=(0,l.useState)(a.yieldRecipe||""),[p,g]=(0,l.useState)(a.image||""),[v,y]=(0,l.useState)(a.recipe||""),[C,b]=(0,l.useState)(a.sellCost||""),[k,R]=(0,l.useState)(a.type||"");return(0,l.useEffect)((()=>{t({productName:n,cost:r,sellQuantity:m,yieldRecipe:u,image:p,recipe:v,sellCost:C,type:k}),s()}),[n,r,m,u,p,v,C,k]),(0,h.jsxs)(i.s,{children:[(0,h.jsxs)(o.U,{md:"6",className:"mb-3",children:[(0,h.jsx)(N.A,{htmlFor:"name",children:"Nombre"}),(0,h.jsx)(S.O,{type:"text",id:"name",value:n,onChange:e=>c(e.target.value),placeholder:"Nombre",className:"mb-3"}),(0,h.jsx)(N.A,{htmlFor:"sellCost",children:"Costo de venta"}),(0,h.jsx)(S.O,{type:"number",id:"sellCost",value:C,min:0,onChange:e=>b(e.target.value),placeholder:"Costo de venta",className:"mb-3"}),(0,h.jsxs)(i.s,{children:[(0,h.jsxs)(o.U,{children:[(0,h.jsx)(N.A,{htmlFor:"sell",children:"Cantidad de venta"}),(0,h.jsx)(S.O,{type:"number",id:"sell",min:0,value:m,onChange:e=>x(e.target.value),placeholder:"Ej. 2",className:"mb-3"})]}),(0,h.jsxs)(o.U,{children:[(0,h.jsx)(I,{setType:R})," "]})]}),(0,h.jsx)(N.A,{htmlFor:"cost",children:"Costo"}),(0,h.jsx)(S.O,{type:"number",id:"cost",value:r,min:0,onChange:e=>d(e.target.value),placeholder:"Costo",className:"mb-3"})]}),(0,h.jsxs)(o.U,{children:[(0,h.jsx)(N.A,{htmlFor:"yield",children:"Rendimiento de Receta"}),(0,h.jsx)(S.O,{type:"number",id:"yield",min:0,value:u,onChange:e=>j(e.target.value),placeholder:"Rendimiento de Receta",className:"mb-3"}),(0,h.jsx)(N.A,{htmlFor:"image",children:"Imagen"}),(0,h.jsx)(S.O,{type:"text",id:"image",value:p,onChange:e=>g(e.target.value),placeholder:"Imagen URL",className:"mb-3"}),(0,h.jsx)(N.A,{htmlFor:"recipe",children:"Receta"}),(0,h.jsx)(f.I,{id:"recipe",value:v,onChange:e=>y(e.target.value),rows:3,className:"mb-3"})]})]})},Q=e=>{let{ingredient:s,quantity:t,setQuantity:l,type:a,handleInputChange:n}=e;return(0,h.jsxs)(i.s,{children:[(0,h.jsx)("div",{className:"col-8",children:(0,h.jsx)(S.O,{type:"text",value:s,placeholder:"Ingrediente",disabled:!0,onChange:n})}),(0,h.jsx)("div",{className:"col-4",children:(0,h.jsxs)(i.s,{children:[(0,h.jsx)("div",{className:"col-8",children:(0,h.jsx)(S.O,{type:"number",value:t,onChange:e=>{l(e.target.value),n()},placeholder:"Cantidad"})}),(0,h.jsx)("div",{className:"col-4",children:a&&(0,h.jsx)("p",{className:"pt-2",children:a})})]})})]})},U=e=>{let{addedIngredients:s}=e;return(0,h.jsx)(i.s,{className:"mt-4",children:(0,h.jsx)(o.U,{children:(0,h.jsxs)(n.E,{children:[(0,h.jsx)(r.V,{children:"Ingredientes A\xf1adidos"}),(0,h.jsx)(d.W,{children:s.map(((e,s)=>(0,h.jsxs)("div",{className:"mb-2",children:[(0,h.jsx)("strong",{children:e.ingredient})," - ",e.quantity," (",e.type,")"]},s)))})]})})})},D=e=>{let{onClick:s,isDisabled:t}=e;return(0,h.jsx)(c.Q,{className:"btn",onClick:s,disabled:t,children:"Crear receta"})},E=e=>{let{options:s=[],renderItem:t,onSelect:a}=e;const[n,i]=(0,l.useState)(""),[c,r]=(0,l.useState)([]);(0,l.useEffect)((()=>{if(n&&n.length>1){const e=s.filter((e=>e.label.toLowerCase().includes(n.toLowerCase())));r(e)}else r([])}),[n,s]);return(0,h.jsxs)("div",{className:"multi-select",children:[(0,h.jsx)("input",{value:n,onChange:e=>i(e.target.value),type:"text",placeholder:"Busca y selecciona"}),c.length>0&&(0,h.jsx)("div",{className:"results-dropdown",children:c.map(((e,s)=>(0,h.jsx)("div",{onClick:()=>{return(s=e)&&a([s]),void i("");var s},className:"result-item",children:t(e)},s)))})]})};var M=t(183);const O=e=>{const[s,t]=(0,l.useState)(""),[a,n]=(0,l.useState)(""),[i,r]=(0,l.useState)(""),[d,o]=(0,l.useState)([]),[m,x]=(0,l.useState)({productName:"",cost:"",sellQuantity:"",yieldRecipe:"",image:"",recipe:"",sellCost:"",type:""}),[u,j]=(0,l.useState)(!0),[p,N]=(0,l.useState)(!0),S=()=>{console.log(s,a,i),j(!(s&&a&&i))},f=()=>""!==m.productName&&m.cost>0&&""!==m.type&&m.sellQuantity>0&&m.yieldRecipe>0&&""!==m.image&&""!==m.recipe&&m.sellCost>0&&d.length>0;(0,l.useEffect)((()=>{const e=f();N(!e),S()}),[d,m,s,a,i]);return(0,h.jsxs)(g.z,{alignment:"center",scrollable:!0,size:"xl",visible:e.visible,onClose:()=>{e.closeModal(),o([])},"aria-labelledby":"Ordenes",children:[(0,h.jsx)(v.E,{children:"Productos"}),(0,h.jsx)(y.T,{children:(0,h.jsxs)(C.T,{children:[(0,h.jsx)(F,{checkCompletion:f,setProductData:x,productData:m}),(0,h.jsx)("div",{className:"mb-3",children:(0,h.jsx)(E,{options:M,renderItem:e=>(0,h.jsx)("span",{children:e.label}),onSelect:e=>{if(e&&e.length>0){const s=e[0];t(s.label),r(s.type)}}})}),(0,h.jsx)("div",{className:"mb-3",children:(0,h.jsx)(Q,{ingredient:s,quantity:a,setQuantity:n,type:i,handleInputChange:S})}),(0,h.jsx)(c.Q,{className:"btn-outline-dark",onClick:()=>{if(s&&a&&i){const e={ingredient:s,quantity:a,type:i};o((s=>[...s,e])),t(""),n(""),r(""),j(!0)}},disabled:u,children:"A\xf1adir"}),(0,h.jsx)(c.Q,{className:"btn-outline-dark ms-2",disabled:0===d.length,onClick:()=>{o([]),N(!0)},children:"Borrar"}),d.length>0&&(0,h.jsx)(U,{addedIngredients:d})]})}),(0,h.jsx)(b.I,{children:(0,h.jsx)(D,{onClick:()=>{const s={id:Date.now(),name:m.productName,image:m.image,recipe:m.recipe,ingredients:d,sell:m.sellCost,yields:m.yieldRecipe,type:m.type};e.onAddRecipe(s),o([]),e.closeModal()},isDisabled:p})})]})};var _=t(3354),q=t(9833);const z=()=>{const[e,s]=(0,l.useState)([]),[t,r]=(0,l.useState)(""),[d,o]=(0,l.useState)(null),[x,u]=(0,l.useState)(!1);(0,l.useEffect)((()=>{s(a._)}),[]);const j=e.filter((e=>e.name.toLowerCase().includes(t.toLowerCase()))),g=()=>{u(!1)};return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)(n.E,{className:"mb-3",children:[(0,h.jsxs)(i.s,{children:[(0,h.jsxs)("div",{className:"col mt-5 ms-4",children:[(0,h.jsx)("label",{htmlFor:"search",children:"Buscar Receta:"}),(0,h.jsx)("input",{id:"search",type:"text",placeholder:"Buscar receta",value:t,onChange:e=>{r(e.target.value)},className:"ms-3"})]}),(0,h.jsx)("div",{className:"col-3 mt-4",children:(0,h.jsxs)(c.Q,{className:"text-middle",onClick:()=>{u(!0)},children:[(0,h.jsx)(_.Ay,{icon:q.x}),(0,h.jsx)("p",{children:"A\xf1adir Receta"})]})}),(0,h.jsx)("div",{className:"px-4",children:(0,h.jsx)("hr",{})})]}),0!==j.length?(0,h.jsx)(p,{handleShowMore:o,filteredData:j}):(0,h.jsx)("h3",{className:"text-center m-5",children:"No hay recetas para mostrar "})]}),(0,h.jsx)(O,{visible:x,closeModal:g,onAddRecipe:e=>{s((s=>[...s,e])),g()}}),null!=d&&(0,h.jsx)(n.E,{children:(0,h.jsx)(m,{recipe:e[d]})})]})};var L=t(6739);const B=()=>(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(L.A,{text:"Recetas"}),(0,h.jsx)(z,{})]})}}]);
//# sourceMappingURL=939.f5ec0636.chunk.js.map